<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content=
    "application/xhtml+xml; charset=iso-8859-1" />
    <title>
      7.13.&nbsp;Util-linux-2.36
    </title>
    <link rel="stylesheet" type="text/css" href="../stylesheets/lfs.css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.79.1" />
    <link rel="stylesheet" href="../stylesheets/lfs-print.css" type=
    "text/css" media="print" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  </head>
  <body class="lfs" id="lfs-10.0">
    <div class="navheader">
      <h4>
        Linux From Scratch - Version 10.0
      </h4>
      <h3>
        Chapter&nbsp;7.&nbsp;Entering Chroot and Building Additional
        Temporary Tools
      </h3>
      <ul>
        <li class="prev">
          <a accesskey="p" href="texinfo.html" title="Texinfo-6.7">Prev</a>
          <p>
            Texinfo-6.7
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="stripping.html" title=
          "Cleaning up and Saving the Temporary System">Next</a>
          <p>
            Cleaning up and Saving the Temporary System
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="chapter07.html" title=
          "Chapter&nbsp;7.&nbsp;Entering Chroot and Building Additional Temporary Tools">
          Up</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Linux From Scratch - Version 10.0 ">Home</a>
        </li>
      </ul>
    </div>
    <div class="wrap" lang="en" xml:lang="en">
      <h1 class="sect1">
        <a id="ch-tools-util-linux" name="ch-tools-util-linux"></a>7.13.
        Util-linux-2.36
      </h1>
      <div class="package" lang="en" xml:lang="en">
        <p>
          The Util-linux package contains miscellaneous utility programs.
        </p>
        <div class="segmentedlist">
          <div class="seglistitem">
            <div class="seg">
              <strong class="segtitle">Approximate build time:</strong>
              <span class="segbody">0.8 SBU</span>
            </div>
            <div class="seg">
              <strong class="segtitle">Required disk space:</strong>
              <span class="segbody">133 MB</span>
            </div>
          </div>
        </div>
      </div>
      <div class="installation" lang="en" xml:lang="en">
        <h2 class="sect2">
          7.13.1. Installation of Util-linux
        </h2>
        <p>
          First create a directory to enable storage for the <span class=
          "command"><strong>hwclock</strong></span> program:
        </p>
        <pre class="userinput">
<kbd class="command">mkdir -pv /var/lib/hwclock</kbd>
</pre>
        <p>
          Prepare Util-linux for compilation:
        </p>
        <pre class="userinput">
<kbd class="command">./configure ADJTIME_PATH=/var/lib/hwclock/adjtime    \
            --docdir=/usr/share/doc/util-linux-2.36 \
            --disable-chfn-chsh  \
            --disable-login      \
            --disable-nologin    \
            --disable-su         \
            --disable-setpriv    \
            --disable-runuser    \
            --disable-pylibmount \
            --disable-static     \
            --without-python</kbd>
</pre>
        <div class="variablelist">
          <p class="title">
            <strong>The meaning of the configure options:</strong>
          </p>
          <dl class="variablelist">
            <dt>
              <span class="term"><em class=
              "parameter"><code>ADJTIME_PATH=/var/lib/hwclock/adjtime</code></em></span>
            </dt>
            <dd>
              <p>
                This sets the location of the file recording information
                about the hardware clock in accordance to the FHS. This is
                not stricly needed for this temporary tool, but it prevents
                creating a file at another location, which would not be
                overwritten or removed when building the final util-linux
                package.
              </p>
            </dd>
            <dt>
              <span class="term"><em class=
              "parameter"><code>--disable-*</code></em></span>
            </dt>
            <dd>
              <p>
                These switches prevent warnings about building components
                that require packages not in LFS or not installed yet.
              </p>
            </dd>
            <dt>
              <span class="term"><em class=
              "parameter"><code>--without-python</code></em></span>
            </dt>
            <dd>
              <p>
                This switch disables using <span class=
                "application">Python</span>. It avoids trying to build
                unneeded bindings.
              </p>
            </dd>
          </dl>
        </div>
        <p>
          Compile the package:
        </p>
        <pre class="userinput">
<kbd class="command">make</kbd>
</pre>
        <p>
          Install the package:
        </p>
        <pre class="userinput">
<kbd class="command">make install</kbd>
</pre>
      </div>
      <div class="content" lang="en" xml:lang="en">
        <p>
          Details on this package are located in <a class="xref" href=
          "../chapter08/util-linux.html#contents-utillinux" title=
          "8.72.2.&nbsp;Contents of Util-linux">Section&nbsp;8.72.2,
          &ldquo;Contents of Util-linux.&rdquo;</a>
        </p>
      </div>
    </div>
    <div class="navfooter">
      <ul>
        <li class="prev">
          <a accesskey="p" href="texinfo.html" title="Texinfo-6.7">Prev</a>
          <p>
            Texinfo-6.7
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="stripping.html" title=
          "Cleaning up and Saving the Temporary System">Next</a>
          <p>
            Cleaning up and Saving the Temporary System
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="chapter07.html" title=
          "Chapter&nbsp;7.&nbsp;Entering Chroot and Building Additional Temporary Tools">
          Up</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Linux From Scratch - Version 10.0 ">Home</a>
        </li>
      </ul>
    </div>
  </body>
</html>
